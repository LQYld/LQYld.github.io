(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{399:function(s,t,a){"use strict";a.r(t);var e=a(42),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"npm中常用命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#npm中常用命令"}},[s._v("#")]),s._v(" NPM中常用命令")]),s._v(" "),a("p",[s._v("全称 node package manager 是世界上最大规模的包管理系统")]),s._v(" "),a("h2",{attrs:{id:"一、npm-init"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、npm-init"}},[s._v("#")]),s._v(" 一、npm init")]),s._v(" "),a("p",[s._v("默认大家肯定比较熟悉了，直接 npm init -y 了事，这回我们再来仔细看看")]),s._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"my-pack"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"version"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1.0.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"main"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"index.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"license"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ISC"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("p",[s._v("这里先声明的npm 版本是 6.7.0，因为我的node 版本是 v11.14.0"),a("br"),a("br"),s._v("\n咱们来一个个说这里比较重要的字段: name、version、main、scripts、license"),a("br"),a("br")]),s._v(" "),a("ul",[a("li",[s._v("name 是当前包的名字，也就是最终发布的npm官网上的包的名字。不能和已有的包重名")]),s._v(" "),a("li",[s._v("version 就是当前包的版本号，主要我们要探究优雅管理版本号")]),s._v(" "),a("li",[s._v("main 就是当前包的入口文件，也就是使用 require 默认引入的文件")]),s._v(" "),a("li",[s._v("scripts 可以配置一些执行脚本")]),s._v(" "),a("li",[s._v("license 协议许可")])]),s._v(" "),a("h2",{attrs:{id:"二、npm-install"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、npm-install"}},[s._v("#")]),s._v(" 二、npm install")]),s._v(" "),a("h3",{attrs:{id:"_1-全局安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-全局安装"}},[s._v("#")]),s._v(" 1.全局安装")]),s._v(" "),a("div",{staticClass:"language-shell script extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" http-server -g\n")])])]),a("p",[s._v("全局安装的意思很简单，就是安装的模块会被安装到全局下，可以在命令行中直接使用安装的包，\n其实只是在 "),a("strong",[s._v("/user/local/bin目录下作了个链接连接到 /user/local/lib/node_modules/http-server/bin/http-server这个文件，当我们执行 http-server")]),s._v(" 这个命令时，\n会调用链接的这个文件。"),a("br"),a("br"),s._v("\nmac因为有权限问题，这里我们加 sudo 来执行命令"),a("br"),a("br"),s._v("\n我们可以自己来尝试写一个包，创建bin目录，新增 www 文件，名字可以随意。")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("#"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("env node\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Hello world'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// #! 这句表示采用node来执行此文件，同理 shell可以表示 sh")]),s._v("\n")])])]),a("p",[s._v("更新package.json 文件")]),s._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"bin"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"my-pack"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./bin/www"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 这里要注意名字和你建立的文件夹相同")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n")])])]),a("p",[s._v("好啦，写好啦！这里我们先不说发包的事，先用一个常用的命令，他可以实现链接的功能")]),s._v(" "),a("div",{staticClass:"language-shell script extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v("\n")])])]),a("p",[s._v("这样我们在命令行中直接输入my-pack就可以 Hello world")]),s._v(" "),a("h3",{attrs:{id:"_2-本地安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-本地安装"}},[s._v("#")]),s._v(" 2.本地安装")]),s._v(" "),a("div",{staticClass:"language-shell script extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" webpack --save-dev\n")])])]),a("p",[s._v("本地安装很好理解啦，就是所谓的在项目中使用，而非在命令行中使用。这里我们看到生成一个package-lock.json文件，而且将安装的模块放到了node_modules下，而且json中也新增了些内容")]),s._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"devDependencies"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"webpack"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^4.39.3"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("p",[s._v("这里先简单介绍下基本的使用"),a("br"),a("br"),s._v("\n--save-dev 代表当前依赖只在开发时被应用，如果默认不写则相当于 --save 为项目依赖开发上线都需要也可以指定版本号来安装包")]),s._v(" "),a("div",{staticClass:"language-shell script extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" i jquery@2.2.0 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# install 可以简写为i")]),s._v("\n")])])]),a("p",[s._v("默认执行 npm i 会安装项目中所需要的依赖，如果只想安装生产环境依赖可以增加 --production 参数")]),s._v(" "),a("h2",{attrs:{id:"三-package-lock文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三-package-lock文件"}},[s._v("#")]),s._v(" 三.package-lock文件")]),s._v(" "),a("p",[s._v("自npm 5 之后所有的依赖包都采用扁平化管理的方式"),a("br"),s._v("\npackage-lock.json 的作用是锁定依赖安装结构，保证在任意机器上执行 npm install 都会得到完全相同的 node_modules 结果，因为 package-lock.json 存储所有安装的信息")]),s._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"my-pack"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"version"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1.0.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"lockfileVersion"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"requires"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"dependencies"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"@webassemblyjs/ast"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" \n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"version"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1.8.5"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 当前依赖的版本")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"resolved"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://registry.npm.taobao.org/@webassemblyjs/ast/download/@webassemblyjs/ast-1.8.5.tgz"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 从哪个渠道安装的")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"integrity"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"sha1-UbHF/mV2o0lTv0slPfnw1JDZ41k="')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 内容hash")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"dev"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"requires"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"@webassemblyjs/helper-module-context"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1.8.5"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"@webassemblyjs/helper-wasm-bytecode"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1.8.5"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"@webassemblyjs/wast-parser"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1.8.5"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n....\n")])])]),a("p",[s._v("如果手动更新了package.json文件,执行安装命令会下载对应的新版本,并且会自动更新lock文件~")]),s._v(" "),a("h2",{attrs:{id:"四-依赖方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四-依赖方式"}},[s._v("#")]),s._v(" 四.依赖方式")]),s._v(" "),a("p",[s._v("简单介绍下常见的依赖方式：")]),s._v(" "),a("h3",{attrs:{id:"_1-dependencies-项目依赖"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-dependencies-项目依赖"}},[s._v("#")]),s._v(" 1.dependencies 项目依赖")]),s._v(" "),a("p",[s._v("可以使用 npm install -S 或 npm install --save 保存到依赖中，当发布到 npm上时 dependencies 下的模块会作为依赖，一起被下载。")]),s._v(" "),a("h3",{attrs:{id:"_2-devdependencies-开发依赖"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-devdependencies-开发依赖"}},[s._v("#")]),s._v(" 2.devDependencies 开发依赖")]),s._v(" "),a("p",[s._v("可以使用 npm install -D 或 npm install --save-dev 保存到依赖中。当发布到 npm 上时 "),a("br"),s._v("\ndevDependencies 下面的模块就不会自动下载了，如果只是单纯的开发项目 dependencies，devDependencies只有提示的作用！")]),s._v(" "),a("h3",{attrs:{id:"_3-peerdependencies-同版本依赖"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-peerdependencies-同版本依赖"}},[s._v("#")]),s._v(" 3.peerDependencies 同版本依赖")]),s._v(" "),a("p",[s._v("同等依赖，如果你安装我，那么你最好也安装我对应的依赖，如果未安装会报出警告 bash"),a("br"),s._v('\n"peerDependencies":{"jquery":"2.2.0"}')]),s._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[s._v("例如")]),s._v(" "),a("p",[s._v("npm WARN xxx@1.0.0 requires a peer of jquery@2.2.0 but none is installed. You must install peer dependencies yourself.")])]),s._v(" "),a("h3",{attrs:{id:"_4-bundleddependencies-捆绑依赖"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-bundleddependencies-捆绑依赖"}},[s._v("#")]),s._v(" 4.bundledDependencies 捆绑依赖")]),s._v(" "),a("div",{staticClass:"language-shell script extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bundleDependencies"')]),s._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"jquery"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])])]),a("p",[s._v("使用 npm pack 打包tgz时会将捆绑依赖一同打包")]),s._v(" "),a("h3",{attrs:{id:"_5-optionaldependencies-可选依赖"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-optionaldependencies-可选依赖"}},[s._v("#")]),s._v(" 5.optionalDependencies 可选依赖")]),s._v(" "),a("p",[s._v("如果发现无法安装或无法找到，不会影响npm的安装")]),s._v(" "),a("h2",{attrs:{id:"五-npm版本管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#五-npm版本管理"}},[s._v("#")]),s._v(" 五.npm版本管理")]),s._v(" "),a("p",[s._v("npm采用了semver规范作为依赖版本管理方案。semver约定一个包的版本号必须包含3个数字"),a("br"),s._v("\nMAJOR.MINOR.PATCH 意思是 主版本号.小版本号.修订版本号")]),s._v(" "),a("ul",[a("li",[s._v("MAJOR 对应大的版本号迭代，做了不兼容旧版的修改时要更新 MAJOR 版本号")]),s._v(" "),a("li",[s._v("MINOR 对应小版本迭代，发生兼容旧版API的修改或功能更新时，更新 MINOR 版本号")]),s._v(" "),a("li",[s._v("PATCH 对应修订版本号，一般针对修复BUG的版本号")])]),s._v(" "),a("p",[s._v("当我们每次发布包的时候都需要升级版本号")]),s._v(" "),a("div",{staticClass:"language-shell script extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" version major "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#大版本号加 1 ，其余版本号归 0")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" version minor "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#小版本号加 1 ，修订号归 0")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" version patch "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#修订号加 1")]),s._v("\n")])])]),a("p",[s._v("如果使用 git 管理项目会自动 git tag 标注版本号"),a("br"),s._v("\n来看看版本号的标识含义："),a("br")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("range")]),s._v(" "),a("th",[s._v("含义")]),s._v(" "),a("th",[s._v("例")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("^2.2.1")]),s._v(" "),a("td",[s._v("指定的 MAJOR 版本号下，所有更新的版本")]),s._v(" "),a("td",[s._v("匹配 2.2.3 , 2.3.0 ;不匹配 1.0.3 , 3.0.1")])]),s._v(" "),a("tr",[a("td",[s._v("~2.2.1")]),s._v(" "),a("td",[s._v("指定 MAJOR.MINOR 版本号下，所有更新的版本")]),s._v(" "),a("td",[s._v("匹配 2.2.3 , 2.2.9 ;不匹配 2.3.0 , 2.4.5")])]),s._v(" "),a("tr",[a("td",[s._v(">=2.1")]),s._v(" "),a("td",[s._v("版本号大于或等于 2.1.0")]),s._v(" "),a("td",[s._v("匹配 2.1.2 , 3.1")])]),s._v(" "),a("tr",[a("td",[s._v("<=2.2")]),s._v(" "),a("td",[s._v("版本号小于或等于 2.2")]),s._v(" "),a("td",[s._v("匹配 1.0.0 , 2.2.1 , 2.2.11")])]),s._v(" "),a("tr",[a("td",[s._v("1.0.0 - 2.0.0")]),s._v(" "),a("td",[s._v("版很号从 1.0.0（含）到 2.0.0（含）")]),s._v(" "),a("td",[s._v("匹配 1.0.0 , 1.3.4 , 2.0.0")])])])]),s._v(" "),a("p",[s._v("预发版：")]),s._v(" "),a("ul",[a("li",[s._v("alpha(α)：预览版，或者叫内部测试版；一般不向外部发布，会有很多bug;一般只有测试人员使用。")]),s._v(" "),a("li",[s._v("beta(β)：测试版，或者叫公开测试版；这个阶段的版本会一直加入新的功能；在alpha版之后推出。")]),s._v(" "),a("li",[s._v("rc(release candidate)：最终测试版本；可能成为最终产品的候选版本，如果未出现问题则可发布成为正式版本。")])]),s._v(" "),a("p",[s._v("2.1.0-beta.1 这样声明的版本用户不会立马使用，可以用来做测试使用")]),s._v(" "),a("h2",{attrs:{id:"六-scripts-配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#六-scripts-配置"}},[s._v("#")]),s._v(" 六.scripts 配置")]),s._v(" "),a("p",[s._v("在package.json中可以定义自己的脚本通过 npm run 来执行")]),s._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"hello"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"echo hello"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"build"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"webpack"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("p",[s._v("我们可以使用 npm run hello 执行脚本，也可以使用 npm run build 执行 node_modules/.bin 目录下的 webpack文件")]),s._v(" "),a("ul",[a("li",[s._v("npm run 命令执行时，会把 ./node_modules/.bin 目录添加到执行环境的 PATH 变量中，因此如果某个命令行包未全局安装，而只安装在了当前项目的 node_modules 中，通过 npm run一样可以调用该命令。")]),s._v(" "),a("li",[s._v("执行 npm 脚本时要传入参数，需要在命令后加 -- 标明，如 npm run hello -- --port 3000 可以将 --port 参数传给 hello 命令")]),s._v(" "),a("li",[s._v("npm 提供了 pre 和 post 两种钩子机制，可以定义某个脚本前后的执行脚本，没有定义默认会忽略")])]),s._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"prehello"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"echo prehello"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"hello"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"echo hello"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"posthello"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"echo posthello"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("p",[s._v("可以通过打印 全局env 和在项目下执行 npm run env 来对比 PATH 属性，不难发现在执行 npm run 的时候确实会将 ./node_modules/.bin/ 目录添加到 PATH中")]),s._v(" "),a("h2",{attrs:{id:"八-npx用法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#八-npx用法"}},[s._v("#")]),s._v(" 八.npx用法")]),s._v(" "),a("p",[s._v("npx 命令是 npm v5.2之后引入的新命令，npx可以帮我们直接执行 node_modules/.bin 文件夹下的文件")]),s._v(" "),a("h3",{attrs:{id:"_1-执行脚本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-执行脚本"}},[s._v("#")]),s._v(" 1.执行脚本")]),s._v(" "),a("div",{staticClass:"language-shell script extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("npx webpack\n")])])]),a("p",[s._v("是不是省略了配置 scripts")]),s._v(" "),a("h3",{attrs:{id:"_2-避免安装全局模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-避免安装全局模块"}},[s._v("#")]),s._v(" 2.避免安装全局模块")]),s._v(" "),a("p",[s._v("全局安装的模块会带来很多问题，例如：多个用户全局安装的模块版本不同")]),s._v(" "),a("div",{staticClass:"language-shell script extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("npx create-react-app react-project\n")])])]),a("p",[s._v("我们可以直接使用 npx 来执行模块，它会先进行安装，安装执行后会将下载过的模块删除~，这样可以一直使用最新版本啦~")])])}),[],!1,null,null,null);t.default=n.exports}}]);